{% extends './includes/base.html' %} {% block content %}

<!-- MAPBOX -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />

<!-- end MAPBOX -->


<script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css" />
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>

<!-- CHARTJS -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css" />

<section>
  <div class="uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-light"
    data-sizes="(min-width: 650px) 650px, 100vw" uk-img
    style="background-image: url(./static/img/visuals.jpg); height: 100px">
    <div class="container">
      <div class="row text-white">Sector Data Visualisations</div>

      <div class="row">
        <ul class="uk-breadcrumb">
          <li><a href="{{ url_for('home') }}" class="text-white">Home</a></li>
          <li>
            <a href="{{ url_for('health') }}" class="text-white">Health Sector</a>
          </li>
          <li><span></span></li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="uk-container">
    <h1 class="uk-heading-line uk-text-center">
      <span>Health Sector</span>
    </h1>
    <!-- Grid row -->
    <div class="row">
      <!-- Grid column -->
      <div class="col-md-6 col-lg-3 mb-4">
        <!--Card-->
        <div class="card text-center">
          <div class="card-header text-info">CHANGE SECTOR</div>
          <div class="card-body text-center">
            <h5 class="card-title text-center">
              Switch to another sector
            </h5>
            <div class="uk-inline">
              <button class="uk-button uk-button-primary uk-button-small" type="button">Switch to another
                sector</button>
              <div uk-dropdown="pos: bottom-center">
                <ul class="uk-nav uk-dropdown-nav uk-text-justify uk-text-small">
                  <li class="uk-active"><a class="dropdown-item"
                      href="{{ url_for('accountability') }}">Accountability</a></li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('agriculture') }}">Agriculture</a>
                  </li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('education') }}">Education</a></li>
                  <li class="uk-active"> <a class="dropdown-item"
                      href="{{ url_for('energy_and_mineral_development') }}">Energy and Mineral
                      Development</a></li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('ict_and_national_guidance') }}">ICT
                      and National
                      Guidance</a></li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('justice_law_and_order') }}">Justice,
                      Law and Order</a></li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('lands_and_housing') }}">Lands and
                      Housing</a></li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('public_sector_management') }}">Public
                      Sector Management</a></li>
                  <li class="uk-active"><a class="dropdown-item"
                      href="{{ url_for('science_technology_and_innovation') }}">Science, Technology
                      and
                      Innovation</a></li>
                  <li class="uk-active"> <a class="dropdown-item" href="{{ url_for('social_development') }}">Social
                      Development</a></li>
                  <li class="uk-active"><a class="dropdown-item" href="{{ url_for('water_and_environment') }}">Water
                      and Environment</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!--/.Card-->
      </div>

      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-6 col-lg-9">
        <!--Card-->
        <div class="card">
          <!--Card head-->
          <!-- Basic dropdown -->
          <span class="badge badge-info ml-2 mt-2" style="width: 40%">Click button to change indicator</span>
          <!-- Select change of indicator -->
          <form class="m-2">
            <fieldset class="uk-fieldset">
              <div class="uk-margin">
                <select class="uk-select">
                  <option>
                    Prevalence of stunting in children under 5 years of age (%)
                  </option>
                  <option>
                    Prevalence of wasting in children under 5 years of age (%)
                  </option>
                  <option>
                    Prevalence of under-weight children under 5 years of age by
                    sex (%)
                  </option>
                  <option>
                    Prevalence of Anaemia among women of reproductive age
                  </option>
                  <option>
                    Infant mortality rate per 1,000 live births by sex
                  </option>
                  <option>
                    Under Five mortality rate per 1,000 live births by sex
                  </option>
                  <option>Maternal Mortality Ratio</option>
                  <option>
                    Proportion of births attended by skilled health personnel
                  </option>
                  <option>
                    Proportion of women attending first ANC in the first
                    trimester
                  </option>
                  <option>Total Fertility Rate</option>
                  <option>
                    Contraceptive Prevalence Rate in reproductive age group
                    (15-49)
                  </option>
                  <option>
                    Proportion of the population with health insurance by sex
                  </option>
                  <option>
                    Adult mortality rates by sex and age groups ( Proxy
                    Indicator)
                  </option>
                </select>
              </div>
            </fieldset>
          </form>
          <!-- end Select change of indicator -->
          <!--Card content-->
          <div class="card-body text-center">
            <ul uk-tab>
              <li><a href="#" uk-icon="image">GRAPHS </a></li>
              <li><a href="#" uk-icon="table"> TABLE </a></li>
              <li><a href="#" uk-icon="location">MAP </a></li>
              <li><a href="#" uk-icon="code">META-DATA </a></li>
            </ul>

            <ul class="uk-switcher uk-margin">
              <li>
                <div id="myChart" style="overflow-y: scroll; width: 100%;" />
              </li>
              <li>
                <div class="table table-responsive table-sm table-striped">
                  <table id="dtBasicExample" class="table table-sm" width="100%" height="80%">
                    <thead class="blue text-white">
                      <tr>
                        <th class="th-sm">Metric</th>
                        <th class="th-sm">Metric value</th>
                        <th class="th-sm">2016 [percentage below] -2 SD2</th>
                        <th class="th-sm">2011 [percentage below] -2 SD2</th>
                        <th class="th-sm">2006 [percentage below] -2 SD2</th>
                        <th class="th-sm">
                          2000-2001 [percentage below] -2 SD2
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Age in months</td>
                        <td>
                          less than 6
                        </td>
                        <td>11.8
                        </td>
                        <td>16.1</td>
                        <td>16.9</td>
                        <td>7.9</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>6-8</td>
                        <td>16.1</td>
                        <td>12.4</td>
                        <td>13</td>
                        <td>22.9</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>9-11</td>
                        <td>16.3</td>
                        <td>32</td>
                        <td>28.8</td>
                        <td>33.9</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>12-17</td>
                        <td>35.2</td>
                        <td>42.2</td>
                        <td>37</td>
                        <td>35.9</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>18-23</td>
                        <td>36.5</td>
                        <td>42.7</td>
                        <td>45.4</td>
                        <td>51.1</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>24-35</td>
                        <td>36.8</td>
                        <td>37.8</td>
                        <td>47.6</td>
                        <td>41.6</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>36-47</td>
                        <td>32.6</td>
                        <td>33.1</td>
                        <td>41.8</td>
                        <td>44</td>
                      </tr>
                      <tr>
                        <td>Age in months</td>
                        <td>48-59</td>
                        <td>24.3</td>
                        <td>31.5</td>
                        <td>40.5</td>
                        <td>44.2</td>
                      </tr>
                      <tr>
                        <td>Sex</td>
                        <td>Male</td>
                        <td>30.9</td>
                        <td>37</td>
                        <td>40.5</td>
                        <td>40.4</td>
                      </tr>
                      <tr>
                        <td>Sex</td>
                        <td>Female</td>
                        <td>26.9</td>
                        <td>29.9</td>
                        <td>35.6</td>
                        <td>36.9</td>
                      </tr>
                    </tbody>
                    <tfoot class="blue text-white">
                      <tr>
                        <th class="th-sm">Background characteristic</th>
                        <th class="th-sm">Metric</th>
                        <th class="th-sm">2016 [percentage below] -2 SD2</th>
                        <th class="th-sm">2011 [percentage below] -2 SD2</th>
                        <th class="th-sm">2006 [percentage below] -2 SD2</th>
                        <th class="th-sm">
                          2000-2001 [percentage below] -2 SD2
                        </th>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </li>
              <li>
                <div id="myDiv" style="height: inherit" style="overflow-y: scroll; width: 100%;" />
              </li>
              <li>
                <!--Table-->
                <table class="table table-striped table-bordered">
                  <caption>Source: UBOS</caption>
                  <!--Table head-->
                  <thead class="blue text-white">
                    <tr class="d-flex">
                      <th class="col-4">Metric</th>
                      <th class="col-8">Description</th>
                    </tr>
                  </thead>
                  <!--Table head-->
                  <!--Table body-->
                  <tbody>
                    <tr class="d-flex">
                      <td class="col-4">Indicator Name</td>
                      <td class="col-8">1.3 Average household income by sex of head</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Definition and Standard Classifications</td>
                      <td class="col-8">This is the measure of the average amount of money that is being earned per
                        household in a country in a given period by
                        sex of the household head.</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Unit of Measure</td>
                      <td class="col-8">UGX</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Computation Method</td>
                      <td class="col-8">"Divide the country’s national income by its total number of households (ΣHH
                        Income)/ΣHHs

                        "</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Compilation Practices</td>
                      <td class="col-8">Data is obtained from household and Panel surveys to derive the indicator.
                        The
                        information is collected from a
                        nationally representative sample of the households, captured and analysed.</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Sources of data</td>
                      <td class="col-8">Uganda National Household Survey (UNHS) Uganda National Panel Survey (UNPS).
                      </td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Disaggregation</td>
                      <td class="col-8">Sex of household head Residence Age Wealth quintileRegion</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Accessibility and Availability of data</td>
                      <td class="col-8">UNHS reportsUNPS ReportsUBOS Website (www.ubos.org)</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Periodicity of Production</td>
                      <td class="col-8">AnnuallyEvery 3 years</td>
                    </tr>
                    <tr class="d-flex">
                      <td class="col-4">Comments and limitations</td>
                      <td class="col-8">None</td>
                    </tr>
                  </tbody>
                  <!--Table body-->
                </table>
                <!--Table-->
              </li>
            </ul>
          </div>
        </div>
        <!--/.Card-->
      </div>
      <!-- Grid column -->
    </div>
    <!-- Grid row -->
</section>
<br />

<!-- PLOTLY MAP FOR THE HEALTH SECTOR -->

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
  Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/2014_usa_states.csv', function (err, rows) {
    function unpack(rows, key) {
      return rows.map(function (row) {
        return row[key];
      });
    }
    var data = [{
      type: 'choropleth',
      locationmode: 'USA-states',
      locations: unpack(rows, 'Postal'),
      z: unpack(rows, 'Population'),
      text: unpack(rows, 'State'),
      autocolorscale: true
    }];

    var layout = {
      title: 'Example of how the Uganda map will look like',
      geo: {
        scope: 'usa',
        countrycolor: 'rgb(255, 255, 255)',
        showland: true,
        landcolor: 'rgb(217, 217, 217)',
        showlakes: true,
        lakecolor: 'rgb(255, 255, 255)',
        subunitcolor: 'rgb(255, 255, 255)',
        lonaxis: {},
        lataxis: {}
      }
    };
    Plotly.newPlot("myDiv", data, layout, {
      showLink: false
    });
  });
</script>

<!-- CHART FOR THE HEALTH SECTOR -->

<script>
  var trace1 = {
    x: ['Age in months', 'Sex', 'Birth interval in months', 'Birth order', 'Size at birth',
      'Mother\'s interview status'
    ],
    y: [11.8, 30.9, 28, 0, 39.3, 28.2],
    type: 'bar',
    text: [
      '<6', 'male', 'first birth', '1',
      'very small', 'interviewed'
    ],
    marker: {
      color: 'rgb(255, 66, 236)'
    }
  };
  var trace2 = {
    x: ['Age in months', 'Sex', 'Birth interval in months', 'Birth order', 'Size at birth',
      'Mother\'s interview status'
    ],
    y: [16.1, 26.9, 32.5, 0, 34.3, 24.5],
    type: 'bar',
    text: [
      '6-8', 'female', '<24', '2-3',
      'small', 'not interviewed but in household'
    ],
    marker: {
      color: 'rgb(66, 224, 255)'
    }
  };


  var data = [trace1, trace2];

  var layout = {
    title: 'Prevalence of stunting in children under 5 years of age (%)',
    font: {
      family: 'Raleway, sans-serif',
      size: 10
    },
    showlegend: true,
    xaxis: {
      title: {
        text: 'Background characteristic',
        font: {
          family: 'Courier New, monospace',
          size: 18,
          color: '#7f7f7f'
        }
      },
    },
    yaxis: {
      title: {
        text: '2016 Percent - age below -2 SD2 ',
        font: {
          family: 'Courier New, monospace',
          size: 18,
          color: '#7f7f7f'
        }
      }
    },
    bargap: 0.1
  };
  var config = {
    responsive: true
  }

  Plotly.newPlot('myChart', data, layout);
</script>

{% endblock %}